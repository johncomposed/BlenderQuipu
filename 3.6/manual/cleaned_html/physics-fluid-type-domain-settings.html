<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>Physics &gt; Fluid &gt; Type &gt; Domain &gt; Settings</head>
<body><ul>
<li><a href="../../../index.html">Physics</a></li>
<li><a href="../../index.html">Fluid</a></li>
<li><a href="../index.html">Type</a></li>
<li><a href="index.html">Domain</a></li>
<li>Settings</li>
</ul><div>
<div itemprop="articleBody">
<section id="settings">
<h1>Settings</h1>
<div id="id1">
<p>Reference</p>
<dl>
<dt>Panel:</dt>
<dd><p>Physics ‣ Fluid ‣ Settings</p>
</dd>
<dt>Type:</dt>
<dd><p>Domain</p>
</dd>
</dl>
</div>
<p>The domain object contains the entire simulation. Fluid simulations cannot leave the domain,
it will either collide with the edge or disappear, depending on the domain’s settings.</p>
<p>Keep in mind that large domains need higher resolutions and longer bake times.
You will want to make it just large enough that the simulation will fit inside it,
but not so large that it takes too long to compute the simulation.</p>
<p>To create a domain, add a cube and transform it until it encloses the area where you want
the simulation to take place. Translation, rotation, and scaling are all allowed.
To turn it into a fluid domain, click <em>Fluid</em> in the Properties ‣ Physics tab,
then select <em>Domain</em> as the fluid <em>Type</em>.</p>
<div>
<p>Note</p>
<p>You <em>can</em> use other shapes of mesh objects as domain objects,
but the fluid simulator will use the shape’s <a href="../../../../glossary/index.html#term-Bounding-Box">Bounding Box</a> as the domain bounds.
In other words, the actual shape of the domain will still be rectangular.</p>
</div>
<dl id="bpy-types-fluiddomainsettings-domain-type">
<dt>Domain Type</dt><dd><p>A fluid domain can control either liquid or gas flows. Liquid domains take all liquid flow objects
that intersect with the domain into consideration. Gas domains consider all
intersecting <em>Smoke</em>, <em>Fire</em>, and <em>Smoke &amp; Fire</em> flow objects. It is not possible to change
the domain type dynamically.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-resolution-max">
<dt>Resolution Divisions</dt><dd><p>The fluid domain is subdivided into many “cells” called <a href="../../../../glossary/index.html#term-Voxel">Voxels</a>
which make up “pixels” of fluid. This setting controls the number of subdivisions in the domain.
Higher numbers of subdivisions are one way of creating higher resolution fluids.</p>
<p>Since the resolution is defined in terms of “subdivisions”,
larger domains will need more divisions to get an equivalent resolution to a small domain.
For example, a one meter cube with 64 <em>Resolution Divisions</em> will need 128 divisions to match a 2 meter cube.
The dimension used as the base division is the longest dimension of the objects bounding box.
To help visualize the voxel size, the <em>Resolution Divisions</em> can be previewed with a small cube
shown in the 3D Viewport, to show the size of these divisions.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-time-scale">
<dt>Time Scale</dt><dd><p>Controls the speed of the simulation. Low values result in a “slow motion” simulation,
while higher values can be used to advance the simulation faster
(good for generating fluids to be used in still renders).</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-cfl-condition">
<dt>CFL Number</dt><dd><p>Determines the maximum velocity per grid cell and is measured in grid cells per time step.
Fluid is only allowed to move up to this velocity in one time step. If this threshold is
exceeded the solver will subdivide the simulation step.</p>
<p>In general, greater CFL (Courant–Friedrichs–Lewy) numbers will minimize the number of simulation steps
and the computation time. Yet it will yield less physically accurate behavior for fast fluid flows.
Smaller CFL numbers result in more simulation steps per frame, longer simulation times
but more accurate behavior at high velocities (e.g. fast fluid flow colliding
with obstacle).</p>
</dd>
</dl>
<div>
<p>Note</p>
<p>When lowering the <em>CFL</em> number it is recommended to increase the maximum number of time steps.
Similarly, when increasing the <em>CFL</em> number the minimum number of time steps should be adjusted.</p>
</div>
<dl id="bpy-types-fluiddomainsettings-use-adaptive-timesteps">
<dt>Use Adaptive Time Steps</dt><dd><p>Lets the solver automatically decide when to perform multiple simulation steps per frame.
It takes into account the maximum and minimum number of time steps,
the current <em>Frame Rate</em>, and the <em>Time Scale</em>.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-timesteps-max">
<dt>Timesteps Maximum</dt><dd><p>Maximum number of allowed time steps per frame. If needed, the solver will divide
a simulation step up to this number of sub-steps.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-timesteps-min">
<dt>Timesteps Minimum</dt><dd><p>Minimum number of allowed time steps per frame. The solver will always perform at least
this number of simulation steps per frame.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-gravity">
<dt>Gravity</dt><dd><p>By default the fluid solver will use the global scene gravity. This behavior can be disabled
in the scene settings. Disabling the global gravity will enable the fluid gravity options.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-clipping">
<dt>Empty Space Gas Only</dt><dd><p>Voxels with values under this value are considered empty space.
More empty space optimizes rendering. With OpenVDB caching it also reduces cache sizes.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-delete-in-obstacle">
<dt>Delete in Obstacle</dt><dd><p>Remover any volume of fluid that intersects with an obstacle inside the domain.</p>
</dd>
</dl>
<section id="border-collisions">
<h2>Border Collisions</h2>
<div id="id2">
<p>Reference</p>
<dl>
<dt>Panel:</dt>
<dd><p>Physics ‣ Fluid ‣ Settings ‣ Border Collisions</p>
</dd>
<dt>Type:</dt>
<dd><p>Domain (Gas)</p>
</dd>
</dl>
</div>
<p>Controls which sides of the domain will allow fluid “pass through” the domain, making it disappear
without influencing the rest of the simulation, and which sides will deflect fluids.</p>
</section>
<section id="smoke">
<h2>Smoke</h2>
<div id="id3">
<p>Reference</p>
<dl>
<dt>Panel:</dt>
<dd><p>Physics ‣ Fluid ‣ Settings ‣ Smoke</p>
</dd>
<dt>Type:</dt>
<dd><p>Domain (Gas)</p>
</dd>
</dl>
</div>
<dl id="bpy-types-fluiddomainsettings-alpha">
<dt>Buoyancy Density</dt><dd><p>Buoyant force based on smoke density.</p>
<ul>
<li><p>Values above 0 will cause the smoke to rise (simulating smoke which is lighter than ambient air).</p></li>
<li><p>Values below 0 will cause smoke to sink (simulating smoke which is heavier than ambient air).</p></li>
</ul>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-beta">
<dt>Buoyancy Heat</dt><dd><p>Controls how much smoke is affected by temperature.
The effect this setting has on smoke depends on the per flow object
<a href="../flow.html#bpy-types-fluidflowsettings-temperature">Initial Temperature</a>:</p>
<ul>
<li><p>Values above 0 will result in the smoke rising when the flow object <em>Initial Temperature</em> is
set to a positive value, and smoke sinking when the flow object <em>Initial Temperature</em> is
set to a negative value.</p></li>
<li><p>Values below 0 will result in the opposite of positive values,
i.e. smoke emitted from flow objects with a positive <em>Initial Temperature</em> will sink,
and smoke from flow objects with a negative <em>Initial Temperature</em> will rise.</p></li>
</ul>
<p>Note that smoke from multiple flow objects with different temperatures will mix and warm up or
cool down until an equilibrium is reached.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-vorticity">
<dt>Vorticity</dt><dd><p>Controls the amount of turbulence in the smoke. Higher values will make lots of small swirls,
while lower values make smoother shapes.</p>
<table id="id6">
<caption>Comparison of different amounts of vorticity.</caption>
<tbody>
<tr><td><figure id="id7">
<figcaption>
<p>Domain with a vorticity of 0.0.</p>
</figcaption>
</figure>
</td>
<td><figure id="id8">
<figcaption>
<p>Domain with a vorticity of 0.2.</p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<section id="dissolve">
<h3>Dissolve</h3>
<p>Allow smoke to dissipate over time.</p>
<dl id="bpy-types-fluiddomainsettings-dissolve-speed">
<dt>Time</dt><dd><p>Speed of smoke’s dissipation in frames.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-use-dissolve-smoke-log">
<dt>Slow</dt><dd><p>Dissolve smoke in a logarithmic fashion. Dissolves quickly at first, but lingers longer.</p>
</dd>
</dl>
</section>
</section>
<section id="fire">
<h2>Fire</h2>
<div id="id4">
<p>Reference</p>
<dl>
<dt>Type:</dt>
<dd><p>Domain</p>
</dd>
<dt>Panel:</dt>
<dd><p>Physics ‣ Fluid ‣ Settings ‣ Fire</p>
</dd>
</dl>
</div>
<dl id="bpy-types-fluiddomainsettings-burning-rate">
<dt>Reaction Speed</dt><dd><p>How fast fuel burns. Larger values result in smaller flames (fuel burns before it can go very far),
smaller values result in larger flames (fuel has time to flow farther before being fully consumed).</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-flame-smoke">
<dt>Flame Smoke</dt><dd><p>Amount of extra smoke created automatically to simulate burnt fuel. This smoke is best visible
when using a “Fire + Smoke” <a href="../flow.html#bpy-types-fluidflowsettings-flow-type">Flow Object</a>.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-flame-vorticity">
<dt>Vorticity</dt><dd><p>Vorticity for flames in addition to the global fluid
<a href="#bpy-types-fluiddomainsettings-vorticity">Vorticity</a>.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-flame-max-temp">
<dt>Temperature Maximum</dt><dd><p>Maximum temperature of flames. Larger values result in faster rising flames.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-flame-ignition">
<dt>Minimum</dt><dd><p>Minimum temperature of flames. Larger values result in faster rising flames.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-flame-smoke-color">
<dt>Smoke Color</dt><dd><p>Color of smoke emitted from burning fuel.</p>
</dd>
</dl>
</section>
<section id="liquid">
<h2>Liquid</h2>
<div id="id5">
<p>Reference</p>
<dl>
<dt>Type:</dt>
<dd><p>Domain</p>
</dd>
<dt>Panel:</dt>
<dd><p>Physics ‣ Fluid ‣ Settings ‣ Liquid</p>
</dd>
</dl>
</div>
<p>Liquid settings control the behavior of the particles which the simulation consists of.
Enabling the liquid checkbox will automatically create a particle system for the simulation.
This particle system visualizes the flow of the simulation. Visualizing the liquid particles is optional.
The fluid simulation will make use of all the fields without an attached particle system too.</p>
<div>
<p>Note</p>
<p>Disabling the liquid checkbox will delete the attached particle system and its settings.</p>
</div>
<dl id="bpy-types-fluiddomainsettings-simulation-method">
<dt>Simulation Method</dt><dd><p>Determines the liquid particle simulation method.</p>
<dl>
<dt>FLIP</dt><dd><p>Produces a very splashy simulation with lots of particles dispersed in the air.</p>
</dd>
<dt>APIC</dt><dd><p>Produces a very energetic but also more stable simulation.
Vortices within the liquid will be preserved better than with <em>FLIP</em>.</p>
</dd>
</dl>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-flip-ratio">
<dt>FLIP Ratio Simulation FLIP Only:</dt><dd><p>How much FLIP velocity to use when updating liquid particle velocities. A value of 1.0
will result in a completely FLIP based simulation. Completely FLIP based simulations
produce more chaotic splashes and are preferable when simulating greater quantities of liquid.
When using smaller values the behavior will be less turbulent and splashes are more subtle.
This is optimal when simulating scenes where the liquid is supposed to be on a small scale.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-sys-particle-maximum">
<dt>System Maximum</dt><dd><p>Maximum number of fluid particles that are allowed in the simulation. If this field is set to a nonzero value
the simulation will never contain more than this number of fluid particles. Otherwise, with a value of zero
the solver will always sample new particles when needed.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-particle-radius">
<dt>Particle Radius</dt><dd><p>The radius of one liquid particle in grid cells units. This value describes how much area is covered
by a particle and thus determines how much area around it can be considered as liquid.
A greater radius will let particles cover more area. This will result in more grids cell being tagged
as liquid instead of just being empty.</p>
<p>Whenever the simulation appears to leak or gain volume in an undesired, non physically accurate way it is
a good idea to adjust this value. That is, when liquid seems to disappear this value needs to be increased.
The inverse applies when too much liquid is being produced.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-particle-number">
<dt>Sampling</dt><dd><p>Factor that is used when sampling particles. A higher value will sample more particles.
Note that particle resampling occurs at every single simulation step.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-particle-randomness">
<dt>Randomness</dt><dd><p>New particles are sampled with some randomness attached to their position
which can be controlled by this field. Higher values will sample the liquid particles more
randomly in inflow regions. With a value of 0.0 all new particles will be sampled uniformly inside
their corresponding grid cells.</p>
<p>When trying to create a laminar inflow (with little randomness) or more turbulent flows
(with greater randomness) this value can be useful.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-particle-max">
<dt>Particles Maximum</dt><dd><p>The maximum number of liquid particles per grid cell. During a simulation the number of liquid
particles in a cell can fluctuate: Particles can flow into other cells or can get deleted
if they move outside the narrow band. Resampling will add new particles considering this maximum.</p>
<p>This value sets the upper threshold of particles per cell. It is also a good way to estimate how
many particles there can be in your simulation (one needs to take grid resolution into account too).
This can be useful before baking and when planning a simulation.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-particle-min">
<dt>Minimum</dt><dd><p>The minimum number of liquid particles per grid cell. Similarly to the maximum particle threshold,
this value ensures that there are at least a certain amount of particles per cell.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-particle-band-width">
<dt>Narrow Band Width</dt><dd><p>Controls the width in grid cell units of the narrow band that liquid particles are allowed to flow in.
A high value will result in a thicker band and can result in an inflow region completely filled
with particles. Unless the goal of the simulation is to visualize the liquid particles it is
recommended to not increase the band width significantly as more particles slow down the simulation.</p>
<p>In some situations increasing this value can help create volume when the simulation appears to leak.
In all other cases it is best to keep the narrow band as thin as possible since the liquid surface
contains most details and simulating particles inside the liquid is not an optimal use of computing resources.</p>
</dd>
</dl>
<div>
<p>See also</p>
<p>The narrow band is an implementation of <a href="https://www.cs.cit.tum.de/cg/research/publications/2016/narrow-band-flip-for-liquid-simulations/">Narrow Band FLIP for Liquid Simulations</a>.</p>
</div>
<dl id="bpy-types-fluiddomainsettings-use-fractions">
<dt>Fractional Obstacles</dt><dd><p>Enables finer resolution in fluid / obstacle regions (second order obstacles).
This option reduces the “stepping effect” that results when an obstacle lies inclined inside the domain.
It also makes liquid flow more smoothly over an obstacle.</p>
<dl id="bpy-types-fluiddomainsettings-fractions-distance">
<dt>Obstacle Distance</dt><dd><p>Determines how far apart fluid and obstacles are. This value can be used to achieve a more fluid motion over
inclined obstacles: Depending on the slope of the obstacle increasing this value can help liquid particles
flow better over an obstacle.
Setting this field to a negative value will let fluid move towards the inside of an obstacle.</p>
</dd>
</dl>
<dl id="bpy-types-fluiddomainsettings-fractions-threshold">
<dt>Obstacle Threshold</dt><dd><p>Value to control the smoothness of the fractional obstacle option. Smaller value reduce
the “stepping effect” but may result particles sticking to the obstacle.</p>
</dd>
</dl>
</dd>
</dl>
<dl id="bpy-ops-fluid-free-data">
<dt>Bake Data, Free Data</dt><dd><p>This option is only available when using the <a href="cache.html#bpy-types-fluiddomainsettings-cache-type">Modular</a> cache type.
<em>Bake Data</em> simulates and stores the base of the fluid simulation on drive.
Both gas and liquid simulations can add refinements on top of this
(e.g. gas simulations can add noise, liquid simulations can add a mesh or secondary particles or both).</p>
<p>The progress will be displayed in the status bar. Pressing <kbd>Esc</kbd> will pause the simulation.</p>
<p>Once the simulation has been baked, the cache can be deleted by pressing <em>Free Data</em>.
It is possible to pause or resume a <em>Bake All</em> process.</p>
</dd>
</dl>
</section>
</section>
</div>
</div></body>
</html>