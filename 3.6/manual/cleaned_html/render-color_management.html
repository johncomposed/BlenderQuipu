<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>Render &gt; Color Management</title></head>
<body><ul>
<li><a href="index.html">Rendering</a></li>
<li>Color Management</li>
</ul><div>
<div itemprop="articleBody">
<section id="color-management">
<h1>Color Management</h1>
<p>Color management is important to create renders and assets that are physically accurate and look great
on multiple display devices. It is used both to ensure all parts of the pipeline interpret colors correctly,
and to make artistic changes like exposure and color grading.</p>
<figure id="id2">
<figcaption>
<p>Different views and exposures of the same render.</p>
</figcaption>
</figure>
<p>Blender’s color management is based on the <a href="https://opencolorio.org/">OpenColorIO</a> library.
By using the same OpenColorIO configuration in multiple applications,
the same color spaces and transforms will be available for consistent results.</p>
<section id="workflow">
<h2>Workflow</h2>
<section id="scene-linear-color-space">
<h3>Scene Linear Color Space</h3>
<p>For correct results, different <a href="../glossary/index.html#term-Color-Space">Color Spaces</a>
are needed for rendering, display and storage of images.
Rendering and compositing is best done in <em>scene linear</em> color space,
which corresponds more closely to nature, and makes computations more physically accurate.</p>
<figure id="id3">
<figcaption>
<p>An example of a linear workflow.</p>
</figcaption>
</figure>
<p>If the colors are linear, it means that if in reality, we double the number of photons,
the color values are also doubled. Put another way,
if we have two photos/renders each with one of two lights on, and add those images together,
the result would be the same as a render/photo with both lights on. It follows that such
a radiometrically linear space is best for photorealistic rendering and compositing.</p>
<p>However, these values do not directly correspond to human perception or the way display devices
work. and image files are often stored in different color spaces.
So we have to take care to do the right conversion into and out of this scene linear color space.</p>
</section>
<section id="display-transforms">
<h3>Display Transforms</h3>
<p>Transforming scene linear colors to display involves both technical and artistic choices.</p>
<p>Correct display of renders requires a conversion to the display device color space.
A computer monitor works differently from a digital cinema projector or HDTV,
and so needs a different conversion.</p>
<p>There is also an artistic choice to be made.
Partially that is because display devices cannot display the full spectrum of colors and
only have limited brightness, so we can squeeze the colors to fit in the gamut of the device.
Besides that, it can also be useful to give the renders a particular look,
e.g. as if they have been printed on real camera film.
The default Filmic transform does this.</p>
<figure id="id4">
<figcaption>
<p>Conversion from linear to display device space.</p>
</figcaption>
</figure>
</section>
<section id="image-color-spaces">
<h3>Image Color Spaces</h3>
<p>When loading and saving media formats it is important to have color management in mind.
File formats such as PNG or JPEG will typically store colors in a color space ready for
display, not in a linear space. When they are used as textures in renders,
they need to be converted to linear first, and when saving renders for display on the web,
they also need to be converted to a display space.</p>
<p>For intermediate files in production, it is recommended to use <em>OpenEXR</em> files.
These are always stored in scene linear color spaces, without any data loss.
That makes them suitable to store renders that can later be composited, color graded and
converted to different output formats.</p>
<p>Images can also contain data that is not actually a color. For example normal or displacement maps
merely contain vectors and offsets. Such images should be marked as <em>Non-Color Data</em> so
that no color space conversion happens on them.</p>
</section>
</section>
<section id="render-settings">
<h2>Render Settings</h2>
<div id="id1">
<p>Reference</p>
<dl>
<dt>Editor:</dt>
<dd><p>Properties</p>
</dd>
<dt>Panel:</dt>
<dd><p>Render Properties ‣ Color Management</p>
</dd>
</dl>
</div>
<figure id="id5">
<figcaption>
<p>Color Management properties.</p>
</figcaption>
</figure>
<p>These are color management settings that are used across Blender.
These color management settings are Scene specific so settings can be customized per Scene.
Color management can also be overridden when saving images;
this behavior can be set in the <a href="output/properties/output.html#render-output-color-management-panel">Output Color Management Properties</a>.</p>
<dl id="bpy-types-colormanageddisplaysettings-display-device">
<dt>Display Device</dt><dd><p>The device that the image is being viewed on.</p>
<p>Most computer monitors are configured for the sRGB color space,
and so when working on a computer usually this option should just be left to the default.
It would typically be changed when viewing the image on another display device connected to the computer,
or when writing out image files intended to be displayed on another device.</p>
<dl>
<dt>sRGB:</dt>
<dd><p>Used by most displays.</p>
</dd>
<dt>XYZ:</dt>
<dd><p>Commonly used by digital projectors.</p>
</dd>
<dt>None:</dt>
<dd><p>Disables color management.</p>
</dd>
</dl>
</dd>
</dl>
<dl id="bpy-types-colormanagedviewsettings-view-transform">
<dt>View Transform</dt><dd><p>These are different ways to view the image on the same display device.</p>
<dl>
<dt>Standard:</dt>
<dd><p>Does no extra conversion besides the conversion for the display device. Often used for
non-photorealistic results or video editing where a specific look is already baked into
the input video.</p>
</dd>
<dt>Filmic:</dt>
<dd><p>For photorealistic results and better handling of high dynamic range colors.
The contrast can be adjusted by changing the <em>Look</em> option for the Filmic view transform.</p>
</dd>
<dt>Filmic Log:</dt>
<dd><p>Converts to Filmic log color space. This can be used for export to color grading applications,
or to inspect the image by flattening out very dark and light areas.</p>
</dd>
<dt>Raw:</dt>
<dd><p>Intended for inspecting the image but not for final export.
Raw gives the image without any color space conversion.</p>
</dd>
<dt>False Color:</dt>
<dd><p>Shows a heat map of image intensities, to visualize the dynamic range.</p>
</dd>
</dl>
</dd>
</dl>
<dl id="bpy-types-colormanagedviewsettings-look">
<dt>Look</dt><dd><p>Choose an artistic effect from a set of measured film response data
which roughly emulates the look of certain film types. Applied before color space conversion.</p>
</dd>
</dl>
<dl id="bpy-types-colormanagedviewsettings-exposure">
<dt>Exposure</dt><dd><p>Used to control the image brightness (in stops) applied before color space conversion.
It is calculated as follows: \(output\_value = render\_value × 2^{(exposure)}\)</p>
</dd>
</dl>
<dl id="bpy-types-colormanagedviewsettings-gamma">
<dt>Gamma</dt><dd><p>Extra gamma correction applied after color space conversion.
Note that the default display transforms already perform the appropriate conversion,
so this mainly acts as an additional effect for artistic tweaks.</p>
</dd>
</dl>
<dl id="bpy-types-colormanagedsequencercolorspacesettings-name">
<dt>Sequencer</dt><dd><p>The color space that the <a href="../editors/video_sequencer/index.html">Sequencer</a> operates in.
By default, the Sequencer operates in sRGB space,
but it can also be set to work in Linear space like the Compositing nodes, or another color space.
Different color spaces will give different results for color correction, crossfades, and other operations.</p>
<p>The list of color spaces depends on the active <a href="#ocio-config">OCIO config</a>.
The default supported color spaces are described in detail here:
<a href="#ocio-config-default-color-spaces">Default OpenColorIO Configuration</a></p>
</dd>
</dl>
<section id="use-curves">
<h3>Use Curves</h3>
<p>Adjust RGB Curves to control the image colors before the color space conversion.
Read more about using the <a href="../interface/controls/templates/curve.html#ui-curve-widget">Curve Widget</a>.</p>
</section>
</section>
<section id="image-files">
<h2>Image Files</h2>
<p>When working with image files, the default color space is usually the right one.
If this is not the case, the color space of the image file can be configured in the image settings.
A common situation where manual changes are needed is when working with or baking normal maps or displacement maps,
for example. Such maps do not actually store colors, just data encoded as colors.
Those images should be marked as <em>Non-Color Data</em>.</p>
<p>Image data-blocks will always store float buffers in memory in the scene linear color space,
while a byte buffer in memory and files in a drive are stored in the specified
<a href="../editors/image/image_settings.html#bpy-types-colormanagedinputcolorspacesettings-name">color space</a> setting.</p>
<p>By default, only renders are displayed and saved with the render <em>View Transformation</em> applied.
These images are the “Render Result” and “Viewer” image data-blocks,
and the files saved directly to a drive with the Render Animation operator.
However, when loading a render saved to an intermediate OpenEXR file,
Blender cannot detect automatically that this is a render
(it could be e.g. an image texture or displacement map).
We need to specify that this is a render and that we want the transformations applied,
with these two settings:</p>
<dl>
<dt>View as Render</dt><dd><p>Display the image data-block (not only renders) with view transform, exposure, gamma, RGB curves applied.
Useful for viewing rendered frames in linear OpenEXR files the same as when rendering them directly.</p>
</dd>
<dt>Save as Render</dt><dd><p>Option in the image save operator to apply the view transform, exposure, gamma, RGB curves.
This is useful for saving linear OpenEXR to e.g. PNG or JPEG files in display space.</p>
</dd>
</dl>
</section>
<section id="opencolorio-configuration">
<h2>OpenColorIO Configuration</h2>
<p>Blender comes with a standard OpenColorIO configuration that
contains a number of useful display devices and view transforms.
The reference linear <a href="../glossary/index.html#term-Color-Space">Color Space</a> used is the linear color space
with Rec. 709 chromaticities and D65 white point.</p>
<p>However, OpenColorIO is also designed to give a consistent user experience across
<a href="https://opencolorio.org/#supported_apps">multiple applications</a>,
and for this, a single shared configuration file can be used.
Blender will use the standard OCIO environment variable to read an OpenColorIO configuration
other than the default Blender one. More information about how to set up such a workflow
can be found on the <a href="https://opencolorio.org/">OpenColorIO website</a>.</p>
<p>Blender currently use the following color space rules:</p>
<dl>
<dt><code>scene_linear</code></dt><dd><p>Color space used for rendering, compositing, and storing all float precision images in memory.</p>
</dd>
<dt><code>data</code></dt><dd><p>Color space for non-color data.</p>
</dd>
<dt><code>aces_interchange</code></dt><dd><p>ACES2065-1 color space. Used to derive chromaticities of the <em>scene_linear</em> color space, for
effects such as blackbody emission.</p>
</dd>
<dt><code>color_picking</code></dt><dd><p>Defines the distribution of colors in color pickers. It is expected to
be approximately perceptually linear, have the same gamut as the <em>scene_linear</em> color space,
map 0..1 values to 0..1 values in the scene linear color space for predictable editing of materials’ albedo.</p>
</dd>
<dt><code>default_sequencer</code></dt><dd><p>Default color space for the Sequencer, <em>scene_linear</em> if not specified.</p>
</dd>
<dt><code>default_byte</code></dt><dd><p>Default color space for byte precision images and files, <em>texture_paint</em> if not specified.</p>
</dd>
<dt><code>default_float</code></dt><dd><p>Default color space for float precision images and files, <em>scene_linear</em> if not specified.</p>
</dd>
</dl>
<p>The standard Blender configuration includes support for saving and loading images in
<a href="https://www.oscars.org/science-technology/sci-tech-projects/aces">ACES</a>
(<a href="https://github.com/ampas/aces-dev">code and documentation</a>) color spaces.
However, the ACES gamut is larger than the Rec. 709 gamut, so for best results,
an ACES specific configuration file should be used. OpenColorIO provides
an <a href="https://opencolorio.readthedocs.io/en/latest/configurations/_index.html">ACES configuration</a> file,
though it may need a few more tweaks to be usable in production.</p>
</section>
<section id="default-opencolorio-configuration">
<h2>Default OpenColorIO Configuration</h2>
<dl id="ocio-config-default-color-spaces">
<dt>Color Spaces</dt><dd><p>Blender’s OCIO configuration file is equipped by default to read/write files in these color spaces:</p>
<dl>
<dt>sRGB:</dt>
<dd><p>Standard RGB display space using Rec. 709 chromaticities and a D65 white point.</p>
</dd>
<dt>Linear:</dt>
<dd><p>Blender’s native linear space meaning there is no gamma mapping,
using Linear Rec. 709 chromaticities and a D65 white point.</p>
</dd>
<dt>Linear ACES:</dt>
<dd><p>Also known as ACES2065-1, which is an ACES color space using the AP0 color primaries,
a D60 white point and a linear transfer function.
This color space is meant to store and transfer data with the most amount of possible color information.</p>
</dd>
<dt>Linear ACEScg:</dt>
<dd><p>An ACES color space that is designed to be used for rendering and compositing.
It uses the AP1 color primaries, a D60 white point, and a linear transfer function.
While similar to ACES2065-1, this color space has a smaller color gamut.
The smaller gamut allow it to better represent the colors that fit inside the CIE 1931 chromaticities diagram.
Colors that lie outside the CIE 1931 chromaticities are generally not important to rendering and compositing
because the human stimulus cannot represent these colors.</p>
</dd>
<dt>XYZ:</dt>
<dd><p>Standard linear XYZ space.</p>
</dd>
<dt>Non-Color:</dt>
<dd><p>Color space used for images which contains non-color data (e.g. normal maps).</p>
</dd>
<dt>Raw:</dt>
<dd><p>Does not automatically convert to linear; same as Non-Color.</p>
</dd>
<dt>Filmic Log:</dt>
<dd><p>Intermediate log color space of Filmic view transform.</p>
</dd>
<dt>Filmic sRGB:</dt>
<dd><p>Similar to <em>sRGB</em> but uses the Filmic view transform.</p>
</dd>
</dl>
</dd>
</dl>
</section>
</section>
</div>
</div></body>
</html>